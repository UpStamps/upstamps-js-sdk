{"version":3,"file":"upstamps-js.esm.js","sources":["../src/constants.ts","../src/index.ts"],"sourcesContent":["export const apiUrl: string = \"https://services.upstamps.com/api\";\n","import fetch from \"node-fetch\";\nimport { apiUrl } from \"./constants\";\n\ninterface Params {\n  clientId: string;\n  projectKey: string;\n  envKey: string;\n}\n\nclass UpStamps {\n  clientId: string;\n  projectKey: string;\n  envKey: string;\n\n  constructor({ clientId, projectKey, envKey }: Params) {\n    this.clientId = clientId;\n    this.projectKey = projectKey;\n    this.envKey = envKey;\n  }\n\n  async flags(name: string) {\n    const url = `${apiUrl}/${this.clientId}/${this.projectKey}/${this.envKey}/flags`;\n\n    const response = await fetch(url);\n    const { flags } = await response.json();\n    const data = flags.map((item: { name: string }) => item.name);\n\n    return data.indexOf(name) !== -1;\n  }\n\n  async remote(name: string) {\n    const url = `${apiUrl}/${this.clientId}/${this.projectKey}/${this.envKey}/remotes`;\n\n    //Response with the all the remotes flags\n    const response = await fetch(url);\n    const { remotes } = await response.json();\n    const remote = remotes.filter((item: any) => item.name === name);\n    const verifyRemote = remote.length > 0;\n\n    return verifyRemote\n      ? { show: true, data: remote[0].data }\n      : { show: false };\n  }\n}\n\nexport default UpStamps;\n"],"names":["apiUrl","UpStamps","clientId","projectKey","envKey","flags","name","url","fetch","response","json","data","map","item","indexOf","remote","remotes","filter","verifyRemote","length","show"],"mappings":";;AAAO,IAAMA,MAAM,GAAW,mCAAvB;;ICSDC;AAKJ;QAAcC,gBAAAA;QAAUC,kBAAAA;QAAYC,cAAAA;AAClC,SAAKF,QAAL,GAAgBA,QAAhB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACD;;;;SAEKC,uBAAMC;;mBACe;;AAAzB,UAAMC,GAAG,GAAMP,MAAN,SAAgB,OAAKE,QAArB,SAAiC,OAAKC,UAAtC,SAAoD,OAAKC,MAAzD,WAAT;6BAEuBI,KAAK,CAACD,GAAD,kBAAtBE;+BACkBA,QAAQ,CAACC,IAAT;cAAhBL,cAAAA;AACR,cAAMM,IAAI,GAAGN,KAAK,CAACO,GAAN,CAAU,UAACC,IAAD;AAAA,mBAA4BA,IAAI,CAACP,IAAjC;AAAA,WAAV,CAAb;AAEA,iBAAOK,IAAI,CAACG,OAAL,CAAaR,IAAb,MAAuB,CAAC,CAA/B;;;AACD;;;;;SAEKS,yBAAOT;;mBACc;;AAAzB,UAAMC,GAAG,GAAMP,MAAN,SAAgB,OAAKE,QAArB,SAAiC,OAAKC,UAAtC,SAAoD,OAAKC,MAAzD,aAAT;;6BAGuBI,KAAK,CAACD,GAAD,kBAAtBE;+BACoBA,QAAQ,CAACC,IAAT;cAAlBM,gBAAAA;AACR,cAAMD,MAAM,GAAGC,OAAO,CAACC,MAAR,CAAe,UAACJ,IAAD;AAAA,mBAAeA,IAAI,CAACP,IAAL,KAAcA,IAA7B;AAAA,WAAf,CAAf;AACA,cAAMY,YAAY,GAAGH,MAAM,CAACI,MAAP,GAAgB,CAArC;AAEA,iBAAOD,YAAY,GACf;AAAEE,YAAAA,IAAI,EAAE,IAAR;AAAcT,YAAAA,IAAI,EAAEI,MAAM,CAAC,CAAD,CAAN,CAAUJ;AAA9B,WADe,GAEf;AAAES,YAAAA,IAAI,EAAE;AAAR,WAFJ;;;AAGD;;;;;;;;;;"}