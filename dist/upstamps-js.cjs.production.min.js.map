{"version":3,"file":"upstamps-js.cjs.production.min.js","sources":["../src/constants.ts","../src/index.ts"],"sourcesContent":["export const apiUrl: string = \"https://services.upstamps.com/api\";\n","import fetch from \"node-fetch\";\nimport { apiUrl } from \"./constants\";\n\ninterface Params {\n  clientId: string;\n  projectKey: string;\n  envKey: string;\n}\n\nclass UpStamps {\n  clientId: string;\n  projectKey: string;\n  envKey: string;\n\n  constructor({ clientId, projectKey, envKey }: Params) {\n    this.clientId = clientId;\n    this.projectKey = projectKey;\n    this.envKey = envKey;\n  }\n\n  async flags(name: string) {\n    const url = `${apiUrl}/${this.clientId}/${this.projectKey}/${this.envKey}/flags`;\n\n    const response = await fetch(url);\n    const { flags } = await response.json();\n    const data = flags.map((item: { name: string }) => item.name);\n\n    return data.indexOf(name) !== -1;\n  }\n\n  async remote(name: string) {\n    const url = `${apiUrl}/${this.clientId}/${this.projectKey}/${this.envKey}/remotes`;\n\n    //Response with the all the remotes flags\n    const response = await fetch(url);\n    const { remotes } = await response.json();\n    const remote = remotes.filter((item: any) => item.name === name);\n    const verifyRemote = remote.length > 0;\n\n    return verifyRemote\n      ? { show: true, data: remote[0].data }\n      : { show: false };\n  }\n}\n\nexport default UpStamps;\n"],"names":["apiUrl","projectKey","envKey","clientId","flags","name","fetch","this","response","json","map","item","indexOf","remote","remotes","filter","length","show","data"],"mappings":"qJAAaA,EAAiB,iFCcJC,IAAAA,WAAYC,IAAAA,YAC7BC,WADOA,cAEPF,WAAaA,OACbC,OAASA,6BAGVE,eAAMC,8BAGaC,EAFRN,MAAUO,KAAKJ,aAALI,KAAsBN,eAAtBM,KAAyCL,iCAE5DM,0BACkBA,EAASC,iCAGF,MAHvBL,MACWM,KAAI,SAACC,UAA2BA,EAAKN,QAE5CO,QAAQP,+CAGhBQ,gBAAOR,8BAIYC,EAHRN,MAAUO,KAAKJ,aAALI,KAAsBN,eAAtBM,KAAyCL,mCAG5DM,0BACoBA,EAASC,8BAC7BI,IADEC,QACeC,QAAO,SAACJ,UAAcA,EAAKN,OAASA,YACtCQ,EAAOG,OAAS,EAGjC,CAAEC,MAAM,EAAMC,KAAML,EAAO,GAAGK,MAC9B,CAAED,MAAM"}